### if the secondary learning is based on regression (and not on classification),
### this alternative file may be useful
### MSE (mean square error) plays the role of the response, features are regressors in the regression fit
rm(list=ls())
mymse=matrix(0, nrow=19, ncol=4);
mymse[1,]=c(136, 161.9, 185.8, 150.9);
mymse[2,]=c(95.2, 98.32, 105.5, 96.63);
mymse[3,]=c(139.2, 169, 166.4, 153.1);
mymse[4,]=c(6.978, 6.329, 7.461, 6.805);
mymse[5,]=c(18.36, 14.2, 15.94, 17.15);
mymse[6,]=c(3638, 3513, 3287, 3341);
mymse[7,]=c(1.806, 1.477, 1.25, 1.642);
mymse[8,]=c(317000, 517800, 1100000, 327500);
mymse[9,]=c(0.002888, 0.003888, 0.003621, 0.003369);
mymse[10,]=c(0.08865, 0.0742, 0.07325, 0.06949);
mymse[11,]=c(10950, 21440, 16490, 11670);
mymse[12,]=c(21.35, 33.64, 41.55, 23.54);
mymse[13,]=c(131.7, 133, 112.5, 134.9);
mymse[14,]=c(91.57, 103.2, 99.88, 91.47);
mymse[15,]=c(61.11, 35.26, 33.49, 62.42);
mymse[16,]=c(0.2837, 0.3384, 0.2837, 0.2934);
mymse[17,]=c(9739, 9620, 10530, 9778);
mymse[18,]=c(0.091, 0.116, 0.116, 0.106); 
mymse[19,]=c(0.002317, 0.002165, 0.002285, 0.002267);

##### features
f=matrix(-1, nrow=19, ncol=9);
f[1,]=c(23, 4, 0.17, 0.69, 0.21,   3.02, 0.88, 0.09, 0.83);
f[2,]=c(21, 1, 0.05, 0, 1.15,      3.44, 0.16, 0.14, 0.21);
f[3,]=c(46, 4, 0.09, 0.11, -0.21,  2.07, 0.81, 0, 0.83);
f[4,]=c(20, 3, 0.15, 0.74, 0.18,   2.63, 0.86, 0, 0.86);
f[5,]=c(25, 2, 0.08, 0.27, 0.03,   3.07, 0.96, 0.04, 0.96);
f[6,]=c(50, 2, 0.04, 0, 1.48,      6.94, 0.25, 0.02, 0.31);
f[7,]=c(16, 3, 0.19, 0.22, 0.78,   3.84, 0.92, 0.19, 0.97);
f[8,]=c(16, 2, 0.12, 0.88, 0.49,   2.86, 0.51, 0, 0.7);
f[9,]=c(11, 1, 0.09, 0.22, 0.63,   2.11, 0.99, 0.18, 1);  
f[10,]=c(11, 1, 0.09, 0, -1.89,    5.83, 0.49, 0.09, 1);
f[11,]=c(22, 1, 0.05, 0.7, -0.19,  2.09, 0.92, 0, 0.88);
f[12,]=c(18, 2, 0.11, 0.79, 0.21,  2.18, 0.91, 0.28, 0.98);
f[13,]=c(13, 1, 0.08, 0.88, 0.04,  2.17, 0, 0, 0.89);
f[14,]=c(19, 4, 0.21, 0.77, 0.42,  2.76, 0.94, 0.11, 0.98);
f[15,]=c(20, 2, 0.1, 0.37, 0.65,   3.07, 0.71, 0.05, 0.85);
f[16,]=c(18, 1, 0.06, 0.94, 0,     2.23, 0.84, 0, 0.84);
f[17,]=c(48, 3, 0.06, 0, 1.15,     6.19, 0.32, 0.06, 0.45);
f[18,]=c(47, 1, 0.02, 0, -1.36,    4.23, 0.04, 0, 0.47);
f[19,]=c(20, 2, 0.1, 0.26, 0.67,   3.37, 0.51, 0, 0.62);

### regression fit
library(glmnet);
y=mymse[,1]; my1=lm(y~f); summary(my1);
  plot(mymse[,1], fitted.values(my1));
y=mymse[,2]; my2=lm(y~f); summary(my2);
y=mymse[,3]; my3=lm(y~f); summary(my3);
y=mymse[,4]; my4=lm(y~f); summary(my4);
det(t(f) %*% f); 
my5=glmnet(x=f, y=mymse[,1], family="gaussian");

 